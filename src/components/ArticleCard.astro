---
import type { CollectionEntry } from 'astro:content';

type Props = CollectionEntry<'blog'>;

const post = Astro.props;

const { title, date, categories, tags, excerpt } = post.data;

const formattedDate = new Intl.DateTimeFormat('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
}).format(date);
---

<div class="py-2 [&:not(:first-child)]:border-grid [&:not(:first-child)]:border-t">
  <div class="group flex flex-col cursor-pointer px-4 py-6 rounded-xl hover:bg-accent">
    <h1 class="text-xl font-semibold text-foreground group-hover:text-sky-500">
      <a href={`/posts/${post.id}`}>{title}</a>
    </h1>
    
    <div class="mt-2 flex gap-4 text-xs font-semibold text-muted-foreground">
      <time datetime={date.toISOString()}>{formattedDate}</time>
      <div class="flex gap-2">
        <a href="#" class="hover:text-primary">{categories}</a>
      </div>
      {tags && <div class="flex gap-2">
        {tags.map(tag => (
          <a href="#" class="text-sky-500">#{tag}</a>
        ))}
      </div>
      }
    </div>
  
    <p class="mt-2 text-sm text-muted-foreground leading-loose">
      {excerpt}
    </p>
  </div>
</div>
