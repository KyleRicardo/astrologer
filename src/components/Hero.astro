---
import { siteConfig } from '@/site.config'
import { Icon } from 'astro-icon/components'

const { promo } = siteConfig
const showPromo = promo.active
---

<section
  aria-label="hero"
  class="relative container mx-auto flex max-w-5xl flex-col items-center justify-center px-4 py-16 sm:px-16"
>
  <!-- 背景装饰：一个巨大的、极其模糊的暖色光晕，营造氛围 -->
  <div class="bg-primary/10 pointer-events-none absolute inset-0 rounded-full blur-[120px]">
  </div>

  <!-- Promo Pill -->
  {showPromo && (
    <a
      href={promo.link}
      target="_blank"
      rel="noopener noreferrer"
      class="group border-border/40 bg-muted/50 text-muted-foreground hover:bg-muted mb-8 inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-medium transition-colors"
    >
      {/* 那个呼吸灯效果 */}
      <span class="relative flex h-2 w-2">
        <span
          class="bg-primary absolute inline-flex h-full w-full animate-ping rounded-full opacity-75"
        />
        <span class="bg-primary relative inline-flex h-2 w-2 rounded-full" />
      </span>

      {/* 内容 */}
      <span>
        {promo.label && (
          <span class="text-foreground mr-1 font-bold">{promo.label}:</span>
        )}
        {promo.title}
      </span>

      <Icon
        name="ri:arrow-right-line"
        class="text-muted-foreground/50 size-3.5 transition-transform duration-200 ease-in-out group-hover:translate-x-1"
      />
    </a>
  )}

  <!-- Avatar & Headlines -->
  <div class="mx-auto mt-8 flex w-full max-w-4xl flex-col items-center gap-8 md:mt-12 md:flex-row lg:gap-16">
    {/* Avatar */}
    <div class="flex shrink-0 items-center justify-center">
      <div class="border-background ring-border relative size-64 overflow-hidden rounded-full border-4 shadow-xl ring-2">
        <img
          src={siteConfig.avatar}
          alt={siteConfig.author}
          class="h-full w-full object-cover"
        />
      </div>
    </div>

    {/* Info */}
    <div class="flex flex-1 flex-col items-center space-y-6 text-center md:items-start md:text-left">
      <div>
        <h1 class="mb-3.5 text-4xl font-bold tracking-tight md:text-5xl">
          {siteConfig.author}
        </h1>
        <p class="text-muted-foreground text-xl font-medium md:text-2xl">
          {siteConfig.tagline}
        </p>
      </div>

      {/* Tech Stack */}
      {siteConfig.techStack && siteConfig.techStack.length > 0 && (
        <div class="flex flex-wrap items-center justify-center gap-2 pt-2 md:justify-start">
          {siteConfig.techStack.map((tech) => (
            <span
              class="bg-secondary text-secondary-foreground rounded-md px-3 py-1 text-sm font-medium"
            >
              {tech}
            </span>
          ))}
        </div>
      )}

      {/* Socials */}
      {siteConfig.socials && siteConfig.socials.length > 0 && (
        <div class="flex items-center gap-4">
          {siteConfig.socials.map((social) => (
            <a
              href={social.url}
              target="_blank"
              rel="noopener noreferrer"
              class="text-muted-foreground hover:text-foreground hover:bg-secondary rounded-full p-2 transition-colors"
              aria-label={social.name}
              title={social.name}
            >
              <Icon name={social.icon} class="size-6" />
            </a>
          ))}
        </div>
      )}
    </div>
  </div>
</section>
